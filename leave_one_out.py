#!/usr/bin/env python

from sklearn.model_selection import LeavePGroupsOut
import pandas as pd


dataset = pd.read_csv("MalwareData.csv", sep='|')
input_data = dataset.drop(['Name', 'md5', 'legitimate'], axis=1).values
labels = dataset['legitimate'].values

input_data = input_data[:100]
labels = labels[:100]

groups = []
for x in range(input_data.shape[0]//10):
    groups.append(x)
    groups.append(x)
    groups.append(x)
    groups.append(x)
    groups.append(x)
    groups.append(x)
    groups.append(x)
    groups.append(x)
    groups.append(x)
    groups.append(x)

# print(groups)
lpo = LeavePGroupsOut(n_groups=2)

for train, test in lpo.split(input_data, labels, groups=groups):
    print("%s %s" % (train, test))

